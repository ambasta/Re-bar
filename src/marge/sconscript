Import('env')
env = env.Clone()

projectLibs = ['graph', 'dijkstra', 'constrained']
libraries = list()

for subdir in projectLibs:
    print('Building> {}'.format(subdir))
    library = env.SConscript(
        '{}/sconscript'.format(subdir),
        {'env': env}
    )
    print('Adding library: {}'.format(library))
    libraries.append(library)

env.Append(LIBS=libraries)
env.Append(LIBS=['boost_graph', 'bsoncxx', 'mongocxx', 'mongoc-1.0'])
lib = env.StaticLibrary('marge', ['marge.cxx'])
libraries.append(lib)

Return("libraries")
